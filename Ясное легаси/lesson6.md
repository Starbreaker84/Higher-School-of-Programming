### Разрешающая точка

Шов характеризуется разрешающим точками.

**Разрешающая точка -- это такое физическое место в проекте, где можно непосредственно выбрать (задавать) то или иное поведение** .

Например, имеется класс Customer в Java, который слишком тесно связан с классом Student, и требуется протестировать метод Pay() класса Customer, который внутри в длинной цепочке условий зачем-то обращается к объекту класса Student, создавая его явно.

Швом в данном случае будет вызов в методе Pay() конструктора класса Student с огромным числом параметров, которые грузятся из базы данных. Нам надо изменить поведение программы в этом месте -- например, создавать Student() с дефолтным пустым конструктором, или не создавать вообще, если он не требуется для данного сценария тестирования. При этом менять оригинальный код мы не хотим.

Можно создать новый класс с именем Customer (исключительно для тестирования), где будет изменён метод Pay(), поместить его в другой каталог, и изменить путь в переменной среды classpath, чтобы система для тестирования собиралась с этим новым классом. В данном случае переменная среды classpath и есть разрешающая точка.


### Разрешающая точка

14. Проблема. В подобных случаях требуется дополнительно сопровождать и новый класс Customer (клон оригинального Customer) -- при внесении правок в оригинальный класс надо не забыть скопировать их и в новый класс, что может быть довольно трудоёмко, особенно если меняется метод Pay.

Решение. Зачастую самый простой способ в подобных случаях -- воспользоваться компоновочным швом. Создаём отдельную библиотеку для всех классов и функций, которые требуется заменить, и затем изменяем сценарии сборки, чтобы скомпоновать библиотеку фиктивных классов (в данном случае -- фиктивный Student) для тестирования.


### Разрешающая точка

15. Проблема. Разрешающая точка для компоновочных швов всегда находится за пределами исходного текста программы -- например, в сценарии сборки или развёртывания, и выявление всех последствий использования компоновочных швов обычно довольно трудоёмко.

Решение. Если вы пользуетесь компоновочными швами, то непременно тщательно убеждайтесь, что тестовая и производственная среды явно отличаются между собой. Удерживайте между ними чёткую границу.


### Модель шва (задания)

======= 17. Разрешающая точка -- это такое место в коде ...

[ ] где можно непосредственно выбрать поведение, не меняя код

[1 ] где можно непосредственно выбрать поведение, изменяя код

======= 18. Разрешающая точка для компоновочных швов всегда находится ...

[1 ] за пределами исходного кода

[ ] непосредственно в исходном коде
