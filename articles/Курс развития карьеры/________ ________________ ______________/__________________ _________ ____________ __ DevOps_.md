## Администратор баз данных и DevOps-инженер

В заключение рассмотрим две более специфические области, где можно делать карьеру, но они не связаны с программированием напрямую.

Как уже говорилось в теме про бэкенд, во-первых, все достаточно крупные системы подразумевают хранение данных, и во-вторых, их нужно собирать, тестировать, развертывать на сервере и сопровождать.

Поэтому организациям нужны специально обученные люди, которые знают, как это всё делать.

Сегодня такие профессии называются администратор баз данных и DevOps-инженер.

**Но если вас интересует только программирование?**

Да, часто вам придётся просто писать код, но сегодня команды становятся междисциплинарными, и разработчикам часто надо брать на себя самые разные роли в проекте.

Разработка программного обеспечения, особенно по agile-методикам -- это скорее командная работа, потому что за многие десятилетия всё же собрано достаточно много полезных практик, и оказывается, что разносторонняя подготовка разработчика -- вещь очень хорошая.

Если вы работаете в стартапе или небольшой компании, где нет выделенного администратора баз данных или группы сопровождения, скорее всего,  **вас могут попросить заняться самыми разными задачами** .

Вас вполне могут попросить установить базу данных и настроить её для работы с приложением. Вас также могут попросить помочь в сборке рабочего кода, его тестирования и развертывания на рабочем сервере. Или вас могут попросить поработать вместе с одним из этих странных парней, которые называются специалистами по DevOps.

В любом случае, вам полезно кое-что узнать о своих технологических коллегах.

### Администратор базы данных

Администратором базы данных википедия называет лицо, отвечающее за выработку требований к базе данных, её проектирование, реализацию, эффективное использование и сопровождение. Сразу надо сказать, что это определение напоминает определение фуллстек-разработчика, когда от одного человека хотят слишком многого, и на практике он часто разбирается во всех своих компетенциях весьма поверхностно.

Поэтому роль администратора БД от организации к организации может сильно варьироваться. Например, админ может сильно раздражать программистов, выговаривая им, что их код создаёт слишком много соединений с базой данных, и часто говоря "нет" на вопросы, а можно ли им делать с данными то-то и то-то.

По большей части администратор базы данных отвечает за настройку, обслуживание, защиту, оптимизацию и мониторинг работы базы данных, и пореже -- за проектирование самой базы данных, написание хранимых процедур и триггеров и т. п.

Здесь проходит важное разделение -- если от человека требуется создавать таблицы в базе данных, продумывать их структуру и взаимосвязи, писать различные запросы к базе и другой код, то это ближе к профессии  **проектировщика БД** . Проектирование крупных баз данных из сотен и тысяч таблиц требует высокого мастерства. Даже просто аккуратно продуманные и хорошо нормализованные таблицы могут повысить скорость работы базы на порядок. Конечно, проектировщик будет хорошо знать и все остальные темы, но они всё же больше относятся к системному администрированию. А проектировщик работает с базой данных не на физическом, а на более высоком, логическом уровне абстракции.

**Базы данных нуждаются в уходе**

**Не каждая команда разработчиков может позволить себе выделенного администратора баз данных** . Если вы работаете бэкенд-программистом в небольшой организации, то скорее всего, вам придётся выполнять многие обязанности администратора баз данных, поэтому полезно ознакомиться с типовыми СУБД в выбранном стеке и основами их установки и обслуживания.

Со временем базы данных могут сильно разрастись и будут требовать значительных ресурсов -- и дисковое пространство, и процессорные мощности для выполнения запросов, поэтому важно выбрать подходящее оборудование и правильно определить, когда его пора обновлять.

Базы данных, очевидно, всегда содержат довольно важные данные, поэтому необходимо регулярно делать резервные копии, и кто-то должен составить план действий в аварийных ситуациях для скорейшего восстановления базы данных и обеспечения работоспособности в случае сбоев.

И нельзя забывать о производительности. Если база данных плохо спроектирована или настроена, она со временем может сильно замедлиться и стать неэффективной -- и такое нередко случается, если проектированием занимается системный специалист, обслуживающий СУБД на физическом уровне. Поэтому необходимо особое внимание уделять профилированию базы данных выяснять, как данные можно упорядочить или проиндексировать, и т. п..

Различных проблем с базами ещё немало, но я надеюсь, вы поняли суть.  **Базы данных сами собой не заработают** .

**Что нужно знать и уметь администратору баз данных?**

Темы, которые я рекомендую изучить:
-- установка и настройка СУБД, создание и удаление базы данных;
-- создание и использование бэкапов (резервных копий);
-- создание схем, таблиц и связей между ними;
-- индексирование таблиц, понимание, как индексы работают;
-- создание триггеров и хранимых процедур;
-- базовое понимание SQL на уровне выполнения запросов SELECT, добавлений/изменений/удалений записей из таблиц;
-- объединения таблиц.

Вам не нужно быть экспертом по базам данных, но знание основ будет чрезвычайно полезным в вашей работе программистом, независимо от того, придется ли вам делать некоторые вещи самостоятельно, или общаться с администратором баз данных.

**О чём тут вообще идёт речь??**

Данное занятие -- просто о том, что вам надо знать, оно не учебное. Но самые элементарные понятия реляционных баз данных такие:
База данных состоит из таблиц. Таблица -- это именно классическая двумерная таблица (как в экселе). Столбцы таблицы -- это названия некоторых понятий (условно говоря, имена полей класса), а строки таблицы -- это значения этих полей (атрибутов). Например, имеется таблица сотрудников, у которой атрибуты (столбцы) -- это имя, фамилия, индивидуальный номер и зарплата. Каждая строка таблицы задаёт, соответственно, конкретного сотрудника.
Структура всех таблиц, включая названия и типы всех их атрибутов -- это схема базы данных.
Объединение таблиц -- это отбор данных из нескольких логически связанных таблиц (например, таблицы сотрудников и таблицы отделов, где они числятся).
Хранимые процедуры -- это код (например, на SQL), который хранится в самой базе данных и может быть вызван на исполнение (чтобы не выгружать данные из базы во внешнюю программу).
Триггер -- это хранимая процедура, которая вызывается автоматически по какому-либо событию (например, при добавлении новой записи).
Индексы -- это дополнительная информация о данных в таблице, которая существенно ускоряет доступ к ним.

### DevOps: новая профессия

Нередко в ИТ появляются совершенно новые профессии, и роль DevOps уникальна и частично, скажем так, слабо определена.

**Что такое DevOps?**

Это синтез, или гибрид, если хотите, разработки и обслуживания. Программирования и системного администрирования.

Сколько людей вы спросите, столько разных ответов скорее всего и получите. Но по большей части все согласятся, что DevOps -- это всё-всё-всё, что надо делать, чтобы код проекта был собран, протестирован, развернут, запущен в производство и там успешно работал.

**Чем занимается DevOps?**

До появления специальности DevOps существовали только программисты и системные администраторы (иногда называемые айтишники или эникейщики). Программисты писали код, а затем отсылали его в отдел тестирования. Тестировщики говорили, что это отстой, и отправляли его назад.

Код гонялся туда-сюда несколько раз, пока одна из сторон не сдавалась, и затем они коллективно отправляли код группе развёртывания. Эти ребята начинали жаловаться, насколько плохо сделан код, и что он обязательно сломает сервер, и что разработчики не имеют никакого представления о безопасности, и затем тоже отправляли его обратно.

Программисты ругались, что дескать те ничего не понимают в разработке, вносили небольшие изменения и снова отправляли код в деплой.

Наконец, группа развертывания допускала код до продакшена, запускала его на сервере, всё ломалось -- и все начинали обвинять друг друга.

Проблема, что в организациях часто работают сильно разрозненные специализированные группы. Когда одни писали код, а другие брали его и развертывали, каждая из команд плохо представляла, чем занимаются другие. Это порождало большое количество проблем, но они были терпимыми, пока не получили массового распространения методики гибкой разработки. Теперь команды отправляют новый код в продакшен один, два, а то и три раза в неделю, а не раз в полгода.

Разработчики собирают проект несколько раз в день, организуют автоматические тесты и проверки качества кода.

И на самом деле многие такие вещи сегодня не так просты, как раньше. Это уже не только написание кода, сборка проекта и его развертывание на сервере. Вместо этого появился большой набор специальных операций и процедур, позволяющий действительно быть максимально гибкими и быстро отправлять код из разработки в эксплуатацию.

**И всё таки, что же такое DevOps?**

Это междисциплинарный процесс передачи кода от разработки в эксплуатацию, и обслуживание кода, когда он уже работает в продакшене. Вместо разделения этого процесса на несколько этапов и ролей, которые могут даже враждовать, DevOps подразумевает полную ответственность за это всё в целом.

На практике функции и обязанности DevOps-инженеров конечно различаются. В одних случаях это программист, который понимает, как создаётся и развертывается код. Он продумывает систему сборки и деплоя так, чтобы максимально автоматизировать этот процесс. В других случаях этим занимаются несколько человек (программист, тестировщик, специалист по эксплуатации), но теперь они работают вместе, занимаясь DevOps на основе взаимопонимания и коллективной ответственности.

Важная особенность DevOps в том, что эта концепция подразумевает фундаментальный сдвиг в понимании того, как программное обеспечение должно поставляться в производство. По этой причине идея DevOps пока может восприниматься неоднозначно.

**Что это всё значит для вас?**

Как разработчик программного обеспечения, вы уже входите в процессы DevOps.

Сегодня программисту нужно знать и уметь значительно больше, нежели просто писать код. Теперь не получится просто перебросить свой код тестировщикам и сделать его чужой проблемой. Вам надо разбираться в процессе и инструментах, которые используются для "передвижения" кода из разработки в производство, и в идеале знать, как настраивать и применять некоторые из этих инструментов.

Очевидно, вы должны знать, как использовать IDE и собирать проект локально; никто не будет специально делать это для вас. Вы также должны знать, как использовать систему версионного контроля для интеграции вашего кода с основным проектным кодом (мастер-версией).

Вы должны понимать основы непрерывной интеграции CI/CD, и то, как работает сервер сборки.

Вы должны знать способы и типы тестирования, а также то, как различные виды автоматического тестирования вписываются в общую схему создания и развертывания кода.

Вы должны знать, как формируется дистрибутив приложения, как оно готовится для распространения или развертывания на сервере.

Вы должны понимать процесс развертывания и методы автоматического переноса кода с сервера сборки на промежуточный или рабочий сервера, а также уметь управлять конфигурацией различных серверов.

Наконец, вы должны что-то знать о мониторинге работающей системы, чтобы выявлять проблемы с производительностью -- и многое другие.

На первый взгляд это всё смотрится как большое количество разных сложных тем, которые нужно изучить, но вам не нужно исходно иметь глубокие знания обо всём этом, и вам не нужно изучать их все сразу.

Гораздо важнее, чтобы вы знали, что это за инструменты, и что это за процессы, и как они работают -- чтобы вы могли сами реализовать этапы этой цепочки или помочь в их формировании.

Даже у футболистов есть специализация. Защитнику не нужны очень детальные знания об нападающих, и тем более ему нужно тренироваться не как нападающему, а как защитнику. Однако трудно говорить о какой-то значимой стратегии или тактике, если защитник не разбирается, как играют вратари, нападающие и полузащитники.

Не получится присоединиться к команде разработчиков и при этом совсем не обращать внимания на то, что произойдёт с вашим кодом после того, как вы отправите его другим. И многие команды разработчиков не хотят нанимать таких программистов.
