# Модель stateful-программирования с состояниями

## Как понять в программировании всё

**Явное состояние добавляет программной сущности долгосрочную память** .

По поводу состояний часто упоминают термины  **stateless** - и  **stateful** -программирование. Под первым подразумевают обычно декларативное программирование, под вторым -- императивное программирование.

**Декларативное программирование** , буквально -- это набор деклараций, описывающих, **какой результат** требуется и, возможно, подсказывающих, как его получить.

**Императивное программирование** , буквально -- это набор команд, точно определяющих,  **как получить результат** .

Декларативное программирование в некоторой степени императивно, так как нередко подразумевает последовательности команд.  **Декларативность -- это скорее относительная степень** , так как многие языки развиваются именно в более выразительном декларативном направлении.

---

*По материалам учебника **Concepts, Techniques, and Models of Computer Programming** и других работ автора **Peter Van Roy**
(Universite catholique de Louvain, Swedish Institute of Computer Science).*


## 1. Декларативный подход

Декларативный подход ( **что надо получить?** ) можно "применять" к любому программному коду. Например, код на функциональном языке может быть представлен как **множество функций в математическом смысле** (что надо вычислить?), или как **множество команд для вычисления этих функций** (как?), для которого добавляется характеристика порядка вычисления (наиболее популярны жадные и ленивые вычисления). Как только порядок вычислений определён, исходное декларативное представление функций можно исполнять на компьютере.

Аналогично и  **программы на логических языках можно воспринимать как набор логических аксиом (что?) или как набор команд (как?)** . Есть такое известное утверждение классика логического программирования Роберта Ковальски:

```
Программа = Логика + Управление
```

Логические аксиомы, дополненные информацией о потоке управления (либо явно заданной программистом, либо неявной, определяемой, например, движком логического вывода), и дают логической программе возможность исполнения на компьютере.

На практике декларативный подход (логическая или функциональная программа) обычно теряет большую часть своего аспекта "что", потому что приходится вдаваться в подробности "как". Например, декларативное определение поиска в дереве подразумевает почти столько же инструкций, сколько и императивное. Однако у декларативного программирования имеются три больших преимущества.

Во-первых,  **практически все абстракции легче формировать в декларативном сеттинге** , так как декларативные операции по своей природе композиционны.

Во-вторых,  **декларативные программы легче тестировать** , так как достаточно протестировать одиночные вызовы команд (подать аргументы и проверить результаты). Тестирование stateful-программ сложнее, так как приходится тестировать последовательности вызовов (из-за наличия внутренней истории).

В-третьих,  **рассуждения о программе с помощью декларативного программирования проще** , чем при использовании императивного программировании. Например, при декларативном подходе возможно формальное алгебраическое рассуждение.


### 1. Декларативный подход

======= 1. Декларативный подход –- это...

[1 ] что?

[ ] как?

[ ] куда?

[ ] зачем?

[ ] почему?

======= 2. Явное состояние -- это...

[ ] набор деклараций

[ ] последовательность инструкций

[ 1] долгосрочная память

[ ] краткосрочная память

======= 3. Логическая программа -- это...

[ ] аксиомы + управление

[1 ] логика + управление

[ ] инструкции + поток

======= 4. Преимущества декларативного программирования (выберите одно неверное)

[ ] проще тестировать декларативный код

[ ] проще формировать абстракции в декларативном формате

[ ] проще рассуждать формально о коде

[1 ] проще понимать последовательности вызовов

[ ]
