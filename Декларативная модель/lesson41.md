### Защита несвязанных переменных

Сами значения мы защитили с помощью операций-обёрток, что же делать с несвязанными переменными -- ведь, имея соответствующую ссылку, кто угодно может связать их со значением. Один вариант решения – разрешать только считывать значение переменных, но не выполнять их связывание. Для этого декларативная модель расширяется условной операцией !! , которая, получая имя переменной, возвращает её некоторый «образ», допускающий лишь считывание значения.

В частности, в этих целях создаётся дополнительное так называемое read-only хранилище. Операция связывания значения с переменной модифицируется так, что предварительно проверяется, не находится ли переменная в read-only хранилище – и если она там имеется, то тогда связывание блокируется.


Как уже говорилось, операция создания нового «имени» NewName не декларативна.

Как же гарантировать, что некоторое имя в реализации декларативной модели будет уникальным? Если все программы выполняются в одном процессе, то можно, например, просто использовать последовательные целые числа. Однако в открытом мире такая схема не сработает.

1. Централизованный подход. Где-то в открытом мире есть единственная фабрика имён, и чтобы получить оригинальное имя, необходимо отправить сообщение этой фабрике и получить ответ с новым именем. Физически фабрика может быть рассредоточена по многим компьютерам (как в случае организации IP-протокола с уникальными IP-адресами для каждого компьютера в мире, который подключен к Интернету). Можно, в частности, дополнить IP-адрес компьютера, запросившего имя, временным идентификатором высокого разрешения (микросекунды), добавляющим к адресу время создания нового имени. Это даст уникальную константу.
2. Децентрализованный подход. Генерируем имя как набор (вектор) случайных битов, а сам алгоритм генерации должен зависеть от некоторой случайной внешней информации, чтобы разные компьютеры не генерировали один и тот же набор. Если такой вектор будет достаточно длинный, то можно добиться очень высокой вероятности того, что имена на основе этих векторов будут уникальны. Теоретически, вероятность неуникальности имени всегда будет ненулевая, но на практике эта техника работает хорошо.


### Защита несвязанных переменных (задания)

======= 86. Защита несвязанных переменных реализуется с помощью ...

[x]read-only хранилища

[ ]шифрования ссылок на значения

======= 87. Гарантия уникальности имени обеспечивается с помощью (выберите неверный ответ) ...

[x]распределённой фабрики имён

[ ]единственной фабрики имён

[ ]генерации вектора битов, зависящего от случайной внешней информации
