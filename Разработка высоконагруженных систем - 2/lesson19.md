## Секционирование

Продолжим рассмотрение распределённых по нескольким машинам данных через призму эквивалента репликации: разбиения большого набора данных на  **секции (partitions)** .

---

Проблема 60. До сих пор мы обсуждали репликацию: поддержку нескольких копий одних и тех же данных в различных узлах. Но если наличествуют очень большие наборы данных или очень большие объёмы обрабатываемой информации, репликации становится недостаточно.

Решение. Необходимо разбивать такие данные на  **секции (partitions)** , или выполнить их  **шардинг (sharding)** .

**Секционирование (partitioning)** -- наиболее часто употребляемый термин в отношении данного процесса. Основная цель секционирования данных -- масштабируемость.

Обычно секции задаются таким образом, что каждый элемент данных (запись, строка или документ) относится ровно к одной секции. Фактически каждая секция сама по себе -- маленькая БД (хотя настоящая СУБД конечно способна поддерживать операции, затрагивающие сразу несколько секций). Соответственно, разные секции можно разместить в различных узлах в кластере, не предусматривающем разделения ресурсов: то есть большой набор данных можно распределить по многим жёстким дискам, а запросы по многим процессорам. При односекционных запросах каждый узел способен независимо выполнять запросы в своей секции, и пропускная способность по запросам легко масштабируется просто добавлением новых узлов.

Первые секционированные СУБД появились в 1980-х (Teradata, Tandem NonStop SQL и др.). А сегодня этот подход активно применяется в NoSQL-системах и хранилищах данных на основе Hadoop.


### Секционирование

Проблема 61. Секционирование обычно тесно связано с репликацией -- копии каждой из секций хранятся на нескольких узлах, и хотя каждая конкретная запись относится только к одной секции, храниться она может в нескольких различных узлах, а в самом узле может храниться более одной секции. Насколько эти понятия смешиваются?

Решение. Все ранее обсуждавшиеся моменты в связи с репликацией баз данных в равной степени применимы и к репликации секций. Сам по себе выбор схемы секционирования на практике почти всегда независим от выбора схемы репликации, так что далее репликацию учитывать не будем.


### Секционирование

Проблема 62. Имеется большой объем данных, которые желательно секционировать. На каких узлах хранить те или иные записи?

Решение. Цель секционирования --  **равномерно распределить по узлам данные и загрузку по запросам** . Если доли всех узлов примерно равны, то теоретически десять узлов смогут обрабатывать в десять раз больше данных и будут иметь в десять раз большую пропускную способность по чтению и записи, нежели отдельный узел (без учёта репликации).


### Секционирование (задания)

======= 52. Секционирование -- это ...

[ ] репликация больших наборов данных

[ 1] разбиение больших наборов данных

[ ] слияние больших наборов данных

======= 53. Секционирование связано с репликацией?

[ ] это одно и то же

[ ] это схожие понятия

[1 ] это ортогональные понятия

======= 54. Цель секционирования -- ...

[1 ] равномерно распределить по узлам данные и нагрузку

[ ] равномерно распределить по секциям данные и нагрузку

[ ] равномерно распределить по репликам данные и нагрузку
