## Транзакции

Проблема 12. Транзакции подразумевают в общем случае **многообъектные операции** (модификацию нескольких разных объектов), что в первом приближении выглядит явным усложнением. Не будет ли достаточно более простой модели данных: только однообъектные операции и схема "ключ-значение"?

Решение. В реляционной модели данных строки в таблицах часто ссылаются на строки в других таблицах с помощью внешних ключей. Поэтому только многообъектные транзакции гарантируют, что эти ссылки останутся действующими: при вставке нескольких записей, ссылающихся друг на друга, внешние ключи должны быть правильными и актуальными, иначе данные потеряют смысл в плане консистентности.

## Транзакции

Проблема 13. В документоориентированных СУБД, где нету функциональности соединений между таблицами, данные обычно денормализованы. Но обновление денормализованной информации, очевидно, требует обновления нескольких документов за один проход (т.к. документы денормализованно хранятся в нескольких копиях).

Решение. Транзакции в NoSQL-системах также оказываются очень удобны -- но уже для предотвращения рассогласования денормализованных данных.

## Транзакции

Проблема 14. Практически во всех СУБД со вторичными индексами (а это почти все базы данных, кроме хранилищ данных в чистой схеме ключ-значение) при каждом изменении значения необходимо обновлять соответствующие индексы.

Решение. Вторичные индексы с точки зрения транзакций также представляют собой различные объекты БД: например, без изоляции транзакций запись может встречаться в одном индексе и не встречаться в другом, поскольку второй индекс еще не был обновлён.

## Транзакции

Проблема 15. Подобные схемы можно реализовать и без транзакций, нужно ли транзакционное усложнение?

Решение. Без атомарности обработка ошибок существенно усложняется, а отсутствие изоляции нередко приводит к проблемам конкурентного доступа.



======= 8. Изоляция в смысле ACID -- это ...

[ ] каждая транзакция выполняется словно она единственная

[ ] транзакции видят лишь отдельные результаты операций записи других транзакций

[ 1] одновременно выполняемые транзакции не могут мешать друг другу

======= 9. Сохраняемость -- это ...

[ ] запись данных на жёсткий диск или SSD

[1 ] обязательство СУБД не терять зафиксированные транзакции

[ ] репликация на заданное число узлов

======= 10. При выполнении однообъектных операций СУБД обычно применяет ...

[1] атомарность и изоляцию

[] транзакции

[ ] сохраняемость и изоляцию
