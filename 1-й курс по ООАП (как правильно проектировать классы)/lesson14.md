## Реализуем класс Stack

Как лучше реализовать стек? Эффективнее всего это делать с помощью связного списка, где добавление и удаление элемента в его хвост выполняется за O(1). Но в нашем примере работа с таким списком, если соответствующий класс отсутствует в стандартной библиотеке языка, тоже потребовала бы отдельной качественной спецификации его интерфейса через АТД (связным списком мы займёмся позже).

Поэтому исключительно для наглядности реализуем стек на основе некоего условного "стандартного" списка (или динамического массива) List, параметризуемого типом. Такой список поддерживает отрицательную индексацию, начиная с хвоста (-1 -- это индекс последнего элемента в списке), а также методы удаления i-го элемента RemoveAt(i), добавления нового элемента в хвост Append() и получения количества элементов Length().

Конструктор мы оформим в общепринятом формате: хотя подразумевается, что вызов конструктора Stack() в классической записи

```
my_stack = new Stack()
```

создаёт новый объект (который конструкция new Stack() явно возвращает), однако внутри кода конструктора никаких инструкций создания объекта указывать не будем: подразумевается, что такой объект создаётся автоматически.

```
class Stack<T>

  // скрытые поля
  private List<T> stack; // основное хранилище стека
  private int peek_status; // статус запроса peek()
  private int pop_status; // статус команды pop()

  // интерфейс класса, реализующий АТД Stack
  public const int POP_NIL = 0;
  public const int POP_OK = 1;
  public const int POP_ERR = 2;
  public const int PEEK_NIL = 0;
  public const int PEEK_OK = 1;
  public const int PEEK_ERR = 2;

  public void Stack() // конструктор
    clear()

  public void push(T value)
    stack.Append(value)

  public void pop()
    if size() > 0
      stack.RemoveAt(-1)
      pop_status = POP_OK
    else
      pop_status = POP_ERR

  public void clear()
    stack = [ ] // пустой список/стек

    // начальные статусы для предусловий peek() и pop()
    peek_status = PEEK_NIL
    pop_status = POP_NIL

  public T peek()
    if size() > 0
      result = stack[-1]
      peek_status = PEEK_OK
    else
      result = 0
      peek_status = PEEK_ERR
    return result

  public int size()
    return stack.Length()

  // запросы статусов
  public int get_pop_status()
    return pop_status

  public int get_peek_status()
    return peek_status
```

---

**Задание 1**

На основе примера АТД Stack (но не в форме наследования, а как автономное решение) определите АТД BoundedStack и выполните его реализацию. BoundedStack -- это ограниченный стек, конструктор которого получает целое положительное значение, задающее максимально допустимое количество элементов в стеке. Если параметр не задан, конструктор по умолчанию формирует стек максимум на 32 элемента.

*BoundedStack -- это весьма распространённая прикладная версия стеков, потому что на практике обычно нежелательно позволять стеку неограниченно расти.*
