### Модели данных OLAP

В области OLTP используется множество различных моделей данных под самые разные потребности системы. Однако в аналитике разнообразие моделей намного меньше. Множество хранилищ данных эксплуатируются шаблонным образом по  **схеме "звезда" (star schema)** , известной также как  **моделирование с помощью измерений (dimensional modeling)** .

В центре схемы находится  **таблица фактов** . Каждая строка этой таблицы отражает  **событие** , произошедшее в конкретный момент времени (например, приобретение покупателем товара). Если анализируются не розничные продажи, а например трафик сайта или активность клиентов, то каждая строка может отражать просмотр страницы или действие пользователя.

Обычно факты поступают в хранилище в виде отдельных событий, что весьма удобно, однако подразумевается, что таблица фактов может вырасти до чрезвычайно больших размеров. В крупных корпорациях (Apple, Walmart, eBay), в хранилищах данных хранятся десятки петабайт истории транзакций, и большую часть их составляют таблицы фактов.

Строка в таблице фактов соответствует событию, измерения соответствуют характеристикам «кто», «что», «где», «когда», «как» и «почему» этого события.

Отдельные столбцы таблиц фактов представляют собой **атрибуты** – например, цена, по которой был продан товар, и стоимость его закупки у поставщика (благодаря чему можно вычислить размер прибыли).

Другие столбцы представляют собой внешние ключи к другим таблицам, именуемым  **таблицами измерений (dimension table)** . Такая схема называется «звезда» потому, что почти все строки таблицы фактов используют внешние ключи для указания на внешние таблицы. При визуализации связей таблица фактов находится посередине, окруженная таблицами измерений, а связи с этими таблицами напоминают лучи звезды.

Разновидность шаблона "звезда" известна под названием  **схемы "снежинка"** . В ней измерения далее разбиваются на под-измерения. Например, могут быть отдельные таблицы для марок и категорий товаров, а каждая строка в таблице товара (подчинённой таблице фактов) может ссылаться на марку и категорию в виде внешних ключей -- вместо непосредственного хранения их в виде строк в текущей таблице. Схемы «снежинки» хорошо нормализованы в сравнении со схемой «звезды», однако «звёзды» используются чаще, поскольку с ними удобнее работать бизнес-аналитикам.


## Хранилища данных (задания)

======= 70. Модели данных в OLTP и OLAP ...

[ ] одинаковые

[ 1] разные

======= 71. Таблица фактов хранит ...

[ 1] событие в некоторый момент времени

[ ] историю фактов и событий

[ ] внешние ключи на таблицы "звезды"

======= 72. Отметьте лишнюю характеристику события в таблице фактов

[ ] кто

[ ] что

[ ] где

[ ] когда

[1 ] куда

[ ] как

[ ] почему
