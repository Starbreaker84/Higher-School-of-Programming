## Часть 4. Обработка транзакций или аналитика?

Термин **«транзакция»** применяется к группе операций чтения и записи, составляющей логически единое целое. Такая группа выполняется за один раз как атомарная операция, а в случае сбоя какой-либо её внутренней операции откатываются обратно все предыдущие операции: БД возвращается в исходное состояние перед началом транзакции.

Формально ожидается, что транзакция обязательно обладает свойствами ACID:

- Atomicity,  **атомарность** ,
- Consistency,  **сохранение согласованности данных** ,
- Isolation,  **изолированная работа транзакции от других транзакций** ,
- Durability – **сохраняемость результата** (то, что успешная транзация внесла в БД, фиксируется в ней «намертво», как и любые другие изменения -- независимо от возникновения сбоев в СУБД).

Однако на практике обработка транзакций означает просто возможность для клиентов выполнять операции чтения и записи с низким значением задержки и с гарантией, что в случае сбоя не возникнет повреждения данных или нарушения их логической целостности. И в целом во многих типах приложений основные паттерны взаимодействия с СУБД при введении транзакций остались стандартными.

Приложение обычно ищет с помощью индекса небольшое количество записей по какому-либо ключу. На основе задаваемых пользователем данных добавляются новые или обновляются существующие записи. Обычно такие приложения интерактивные, и паттерн доступа получил название  **обработка транзакций в реальном времени (online transaction processing, OLTP)** .

Однако СУБД все шире используются для  **аналитической обработки данных (data analytics, data science)** , паттерны доступа которой совершенно другие. Обычно аналитический запрос должен просматривать огромное количество записей, читая в каждой из них только несколько столбцов и вычисляя сводные статистические показатели (например, количество, сумму или среднее значение) вместо возврата пользователю сырых необработанных данных.

Чтобы отличать этот паттерн применения БД от обработки транзакций, его назвали  **аналитическая обработка данных в реальном времени (online analytical processing, OLAP)** .

OLTP подразумевает произвольный доступ к данным и операции записи в БД с низким значением задержки на основании клиентских данных. Сама БД представляет актуальное состояние данных на текущий момент времени, а размер её (порядок) – чаще всего терабайты.

OLAP подразумевает длительный групповой импорт данных ( **ETL -- Extract, Transform, Load «извлечение, преобразование, загрузка»** ) или обработку непрерывного потока событий (например, от устройств телеметрии). В БД хранятся не только текущие данные, но и история их изменений, а размер её -- обычно петабайты.


## Транзакции и аналитика (задания)

======= 64. Транзакция -- это ...

[ 1] группа операций, выполняющаяся или отменяющаяся как одно целое

[ ] группа операций, сохраняющая согласованность данных

[ ] группа операций, выполняющаяся изолированно от других

[ ] группа операций, выполняющаяся с низким значением задерж¬ки

======= 65. OLTP -- это прежде всего ...

[ ] аналитическая обработка данных в реальном времени

[ ] аналитическая обработка данных в пакетном режиме

[1] обработка транзакций в реальном времени

[ ] обработка транзакций в пакетном режиме

======= 66. OLAP -- это прежде всего ...

[] аналитическая обработка данных в реальном времени

[1] аналитическая обработка данных в пакетном режиме

[ ] обработка транзакций в реальном времени

[ ] обработка транзакций в пакетном режиме
