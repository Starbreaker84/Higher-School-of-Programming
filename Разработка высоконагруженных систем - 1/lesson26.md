### OLAP или OLTP?

На практике, за исключением задач анализа, используются, конечно, в основном OLTP-системы, подразумевающие потенциально огромное количество запросов. Программисты оптимизируют нагрузку, стараясь затрагивать в каждом запросе ограниченное число строк. Клиентская программа запрашивает записи с помощью определенного ключа, а подсистема хранения задействует индекс для поиска данных с соответствующим ключом. Узким местом здесь обычно становится время перехода к нужной позиции на диске.

Хранилища данных в основном применяются бизнес-аналитиками и обрабатывают намного меньшее количество запросов, чем OLTP-системы. Но практически все OLAP-запросы обычно очень ресурсоёмки и требуют просмотра миллионов или даже миллиардов строк за короткое время. Узким место здесь обычно становится пропускная способность диска (а не время перехода к нужной позиции на нём). По этой причине всё большую популярность для этой разновидности задач приобретают столбцовые хранилища.


В рамках OLTP имеются два основных подхода к построению подсистем хранения данных.

1) **Журналированный подход** , при котором допускается только дописывание данных в файлы и удаление устаревших файлов, а не обновление записанного файла. Это SS-таблицы, LSM-деревья, системы HBase, Lucene и др.
2) **Подход с обновлением на месте** , при котором диск рассматривается как набор страниц заданного размера, допускающих перезапись. Главный представитель такой философии -- B-деревья, используемые во всех основных реляционных базах данных, а также и во многих нереляционных.

Относительно недавнее изобретение --  **журналированные подсистемы хранения** . Их основная идея состоит в систематическом преобразовании произвольной записи на диске в последовательную, что обеспечивает более высокую пропускную способность по записи вследствие характеристик производительности жестких дисков и твердотельных накопителей.

И по этой технической причине, в частности, аналитические задачи OLAP столь сильно отличаются от задач OLTP: когда для запросов необходим последовательный просмотр большого количества строк, индексы не играют особой роли. Вместо этого становится гораздо важнее кодировать данные очень компактно, чтобы минимизировать объём читаемых с диска данных.


## OLAP или OLTP (задания)

======= 82. OLTP и OLAP

[ ] примерно одинаково часто используются

[ 1] OLTP используется существенно чаще

[ ] OLAP используется существенно чаще

======= 83. "Узкое горлышко" OLTP -- это ...

[ 1] время перехода к нужной позиции на диске

[ ] пропускная способность диска

======= 84. "Узкое горлышко" OLAP -- это ...

[ ] время перехода к нужной позиции на диске

[ 1] пропускная способность диска

======= 85. В реализации журналированной схемы применяются ...

[ 1] SS-таблицы, LSM-деревья

[ ] B-деревья

======= 86. В реализации схем с обновлением на месте применяются ...

[ ] SS-таблицы, LSM-деревья

[ 1] B-деревья
